<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TeraBox Smart Downloader</title>

<style>
  body{
    margin:0;
    padding:0;
    background:#eef3ff;
    font-family: Inter, sans-serif;
  }
  .box{
    max-width:480px;
    margin:40px auto;
    background:#fff;
    padding:25px;
    border-radius:20px;
    box-shadow:0 8px 25px rgba(0,0,0,0.08);
    text-align:center;
  }
  h1{
    font-size:28px;
    margin-bottom:10px;
    color:#2b3bf3;
    font-weight:800;
  }
  input{
    width:100%;
    padding:15px;
    border-radius:14px;
    border:1px solid #d7d9ef;
    font-size:15px;
    background:#f8f9ff;
  }
  .btn{
    margin-top:18px;
    display:block;
    width:100%;
    padding:15px;
    background:#4f46e5;
    color:#fff;
    border-radius:14px;
    font-size:18px;
    font-weight:700;
    border:0;
    cursor:pointer;
  }
  #downloadBox{
    margin-top:20px;
    display:none;
  }
  .dBtn{
    background:#e61e66;
    padding:14px;
    border-radius:14px;
    color:#fff;
    font-size:18px;
    display:block;
    text-align:center;
    text-decoration:none;
    font-weight:700;
  }
  .note{
    padding:10px;
    background:#ffe5e5;
    color:#c40000;
    border-radius:10px;
    margin-top:15px;
    font-size:14px;
  }
</style>
</head>

<body>

<div class="box">
  <h1>TeraBox Smart Downloader</h1>

  <input id="tbxUrl" type="url" placeholder="Paste your TeraBox link here">

  <button class="btn" onclick="generateDownload()">Generate Download</button>

  <div id="downloadBox">
    <a id="downloadBtn" href="#" class="dBtn" download>⬇ Download Video</a>
  </div>

  <div class="note">
    ⚠ Turn on Mobile Auto-Rotate for Full-Screen video.
  </div>

  <p id="error" style="color:red; display:none; margin-top:10px;">
    ⚠ Invalid link or network error!
  </p>
</div>


<script>
async function generateDownload() {
  const url = document.getElementById("tbxUrl").value.trim();
  const error = document.getElementById("error");
  const box = document.getElementById("downloadBox");
  const btn = document.getElementById("downloadBtn");

  error.style.display = "none";
  box.style.display = "none";

  if (!url) {
    error.innerHTML = "⚠ Enter a valid TeraBox link.";
    error.style.display = "block";
    return;
  }

  const api =
    "https://iteraplay.com/api/json.php?url=" +
    encodeURIComponent(url) +
    "&key=iTeraPlay2025";

  try {
    const res = await fetch(api);
    const data = await res.json();

    if (!data.status || !data.list || data.list.length === 0) {
      error.innerHTML = "⚠ Invalid or expired TeraBox link.";
      error.style.display = "block";
      return;
    }

    const file = data.list[0];
    btn.href = file.download_link;

    box.style.display = "block";

  } catch (e) {
    error.innerHTML = "⚠ Network error!";
    error.style.display = "block";
  }
}
</script>

</body>
</html>
